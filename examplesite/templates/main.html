#### STATIC DATA AND MODULES ##############

#### DATA PREPARATION #####################
<%
body_class=' '.join(['path-%s'%s for s in urls.url.path_segments])
asset_domain = request.environ['global_conf'].get('ASSET_DOMAIN')
title = 'Example Site'
%>

#### DEFINITIONS ##########################
<%def name="title()">
% if hasattr(self, 'page_title'):
  ${self.page_title()}
% else:
  ${title}
% endif
</%def>
<%def name="page_javascript()"></%def>
<%def name="page_jquery()"></%def>
<%def name="page_css()"></%def>
<%def name="body_class()"></%def>
<%def name="page_description()"></%def>
<%def name="page_keywords()"></%def>

## Include a javascript or jquery section if it has been defined
<%def name="javascript()">
% if self.page_javascript() or self.page_jquery():
  <script type="text/javascript">
  <!--//--><![CDATA[//><!--
%   if self.page_jquery():
  $(document).ready(function() {
  ${self.page_jquery()}
  });
%   endif
%   if self.page_javascript():
  ${self.page_javascript()}
%   endif
  //--><!]]>
  </script>
% endif
</%def>


#### TEMPLATE #############################
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="description" value="${self.page_description()}" />
  <meta name="keywords" value="${self.page_keywords()}" />
  <title>${self.title()}</title>
  <!--[if IE]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="${asset_domain}/css/formish.css" type="text/css" rel="stylesheet" />
  <link href="${asset_domain}/css/screen.css" type="text/css" rel="stylesheet" />
  <link href="${asset_domain}/css/paging.css" type="text/css" rel="stylesheet" />
  <script src="${asset_domain}/js/jquery-1.4.2-min.js" type="text/javascript"></script>
  <script src="${asset_domain}/js/jquery-ui-1.8rc3.custom.min.js" type="text/javascript"></script>
${self.javascript()}
</head>

<body class="${body_class}${self.body_class()}">
${next.body()}
</body>
</html>
